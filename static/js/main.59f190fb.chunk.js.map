{"version":3,"sources":["ERC20Abi.ts","ERC1155Abi.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["erc20Abi","erc1155Abi","Web3","utils","toBN","fromWei","toWei","myWeb3","CHAINS","_web3Provider","baseGetWeb3","a","givenProvider","getChainId","web3","eth","isAddressValid","v","isAddress","isUint256Valid","test","lt","pow","isWrappedTokenValid","isRealNumber","_fetchedJsonPromises","Map","_fetched","fetchOnceJsonPromise","url","promise","get","fetch","fetchResult","json","set","fetchOnceJson","Address","props","className","type","maxLength","size","value","onChange","Uint256","WrappedERC20","Amount","App","useState","connectedToAccount","setConnectedToAccount","getWeb3","window","ethereum","enable","catch","_","getAccounts","then","accounts","length","getABIs","getAddresses","Promise","all","chainId","mySend","contract","method","args","sendArgs","handler","account","bind","estimateGas","gas","from","estimatedGas","String","Math","floor","Number","send","exact","to","style","marginTop","href","display","fontSize","color","fontWeight","path","component","lockerContract","setLockerContract","lockedErc1155Amount","setLockedErc1155Amount","amount","setAmount","myEvents","connectEvents","console","log","clearSubscriptions","abi","ERC1155LockedETH","erc1155","Contract","events","TransferSingle","filter","_to","loadLockedIn1155","TransferBatch","methods","balanceOf","call","balance","e","borrowETH","alert","message","returnToETH","on","addresses","address","useEffect","connect","fetchData","target","onClick","disabled","erc20Contract","setErc20Contract","erc1155Token","setErc1155Token","wrapperContract","setWrapperContract","erc20Amount","setErc20Amount","erc20Symbol","setErc20Symbol","erc1155WrapperApproved","setErc1155WrapperApproved","ERC1155LockedERC20","erc20","Transfer","loadErc20","Approval","owner","spender","checkErc1155WrapperApproved","symbol","allowance","allowanceStr","halfBig","abi2","big","sub","approve","toString","borrowERC20","returnToERC20","ERC1155OverERC20","tokenId","hex","toHex","addr","replace","repeat","checksumed","toChecksumAddress","cursor","title","erc1155Contract","setErc1155Contract","erc1155Token2","setErc1155Token2","erc20WrapperApproved","setErc20WrapperApproved","wrapperContract2","setWrapperContract2","lockerContract2","setLockerContract2","erc1155Amount","setErc1155Amount","lockedErc20Amount","setLockedErc20Amount","loadRegistered","ERC20Registry","contractAddress","registry","getWrapper","address1","getLocker","address2","loadErc1155","loadLockedIn20","ERC20LockedERC1155","checkErc20WrapperApproved","isApprovedForAll","approved","registerWrapper","tx","registerLocker","_from","ApprovalForAll","operator","setApprovalForAll","borrowERC1155","returnToERC1155","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59f190fb.chunk.js","sourcesContent":["const erc20Abi = [\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"totalSupply\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_from\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_to\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"decimals\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint8\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [\n            {\n                \"name\": \"_owner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n            {\n                \"name\": \"balance\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_to\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transfer\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [\n            {\n                \"name\": \"_owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_spender\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"allowance\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"payable\": true,\n        \"stateMutability\": \"payable\",\n        \"type\": \"fallback\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"name\": \"from\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n    }\n];\n\nexport default erc20Abi;","const erc1155Abi = [{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"uri\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_ids\",\"type\":\"uint256[]\"},{\"name\":\"_values\",\"type\":\"uint256[]\"},{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeBatchTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owners\",\"type\":\"address[]\"},{\"name\":\"_ids\",\"type\":\"uint256[]\"}],\"name\":\"balanceOfBatch\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_update\",\"type\":\"string\"},{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"update\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"uri\",\"type\":\"string\"}],\"name\":\"setBaseURI\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_initialSupplies\",\"type\":\"uint256[]\"},{\"name\":\"_to\",\"type\":\"address[]\"},{\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"batchCreate\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalTokenTypes\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_operator\",\"type\":\"address\"},{\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"nonce\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_initialSupply\",\"type\":\"uint256\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_name\",\"type\":\"string\"}],\"name\":\"create\",\"outputs\":[{\"name\":\"_id\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"baseTokenURI\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_id\",\"type\":\"uint256\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_value\",\"type\":\"string\"},{\"indexed\":true,\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"CreationName\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_value\",\"type\":\"string\"},{\"indexed\":true,\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"Update\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_id\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"TransferSingle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_ids\",\"type\":\"uint256[]\"},{\"indexed\":false,\"name\":\"_values\",\"type\":\"uint256[]\"}],\"name\":\"TransferBatch\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_value\",\"type\":\"string\"},{\"indexed\":true,\"name\":\"_id\",\"type\":\"uint256\"}],\"name\":\"URI\",\"type\":\"event\"}];\n\nexport default erc1155Abi;","import React, { useState, useEffect } from 'react';\nimport {\n  Route,\n  NavLink,\n  HashRouter\n} from \"react-router-dom\";\nimport './App.css';\nimport Web3 from 'web3';\n// MEWConnect does not work on Firefox 84.0 for Ubuntu.\n// import Web3Modal from \"web3modal\";\n// import MewConnect from '@myetherwallet/mewconnect-web-client';\nimport erc20Abi from './ERC20Abi';\nimport erc1155Abi from './ERC1155Abi';\nconst { toBN, fromWei, toWei } = Web3.utils;\n\nlet myWeb3: any = null;\n\n// TODO: Show pending transactions.\n// TODO: Better dialog than alert()\n// TODO: Show a warning if ERC-20 address points to a non-existing contract.\n\n// TODO\nconst CHAINS: { [id: string] : string } = {\n  '1': 'mainnet',\n  '3': 'ropsten',\n  '4': 'rinkeby',\n  '5': 'goerli',\n  '42': 'kovan',\n  '1337': 'local',\n  '122': 'fuse',\n  '80001': 'mumbai',\n  '137': 'matic',\n  '99': 'core',\n  '77': 'sokol',\n  '100': 'xdai',\n  '74': 'idchain',\n  '56': 'bsc',\n  '97': 'bsctest',\n}\n\nlet _web3Provider: any = null;\n// let _web3Modal: any = null;\n\n// async function myWeb3Modal() {\n//   if (_web3Modal) {\n//     return _web3Modal;\n//   }\n\n//   // const MewConnect = require('@myetherwallet/mewconnect-web-client');\n\n//   const providerOptions = {\n//       mewconnect: {\n//           package: MewConnect, // required\n//           options: {\n//               infuraId: process.env.REACT_APP_INFURA_ID || '859569f6decc4446a5da1bb680e7e9cf'\n//           }\n//       }\n//   };\n\n//   return _web3Modal = new Web3Modal({\n//     network: 'mainnet',\n//     cacheProvider: true,\n//     providerOptions\n//   });\n// }\n\n// async function getWeb3Provider() {\n//   if(_web3Provider) {\n//     return _web3Provider;\n//   } else {\n//     // await connectEvents();\n//   }\n//   return _web3Provider = (window as any).ethereum ? await (await myWeb3Modal()).connect() : null;\n// }\n\nasync function baseGetWeb3() {\n  if(myWeb3) return myWeb3;\n\n  _web3Provider = Web3.givenProvider; //await getWeb3Provider();\n  return myWeb3 = _web3Provider ? new Web3(_web3Provider) : null;\n}\n\nasync function getChainId(): Promise<any> { // TODO: more specific type\n  const web3 = await baseGetWeb3();\n  if (!web3) {\n    return null;\n  }\n  return await (web3 as any).eth.getChainId();\n}\n\nfunction isAddressValid(v: string): boolean { // TODO: called twice\n  return Web3.utils.isAddress(v);\n}\n\nfunction isUint256Valid(v: string): boolean { // TODO: called twice\n  return /^[0-9]+$/.test(v) && toBN(v).lt(toBN(2).pow(toBN(256)));\n}\n\nfunction isWrappedTokenValid(v: string): boolean { // TODO: called twice\n  return /^[0-9]+$/.test(v) && toBN(v).lt(toBN(2).pow(toBN(160)));\n}\n\nfunction isRealNumber(v: string): boolean { // TODO: called twice\n  return /^[0-9]+(\\.[0-9]+)?$/.test(v);\n}\n\n// let _fetchedPromises = new Map<string, Promise<any>>();\nlet _fetchedJsonPromises = new Map<string, Promise<any>>();\nlet _fetched = new Map<string, any>();\n\nasync function fetchOnceJsonPromise(url: string): Promise<Promise<any>> {\n  let promise = _fetchedJsonPromises.get(url);\n  if (promise) {\n    return promise;\n  } else {\n    const fetchResult = await fetch(url);\n    promise = fetchResult.json() as Promise<any>;\n    _fetchedJsonPromises.set(url, promise);\n    return await promise;\n  }\n}\n\nasync function fetchOnceJson(url: string): Promise<any> {\n  let json = _fetched.get(url);\n  if (json) {\n    return json;\n  } else {\n    json = await fetchOnceJsonPromise(url);\n    _fetched.set(url, json);\n    return json;\n  }\n}\n\nfunction App() {\n  const [connectedToAccount, setConnectedToAccount] = useState(true); // Don't show the message by default.\n\n  async function getWeb3() {\n    try {\n      (window as any).ethereum.enable().catch(() => {}); // Without this catch Firefox 84.0 crashes on user pressing Cancel.\n    }\n    catch(_) { }\n    const web3 = await baseGetWeb3();\n    getAccounts().then((accounts) => {\n      setConnectedToAccount(accounts.length !== 0);\n    });\n    return web3;\n  }\n\n  async function getABIs() {\n    return await fetchOnceJson(`abis.json`);\n  }\n\n  async function getAddresses() {\n    const [json, chainId] = await Promise.all([fetchOnceJson(`addresses.json`), getChainId()]);\n    return CHAINS[chainId] ? json[CHAINS[chainId]] : null;\n  }\n\n  async function getAccounts(): Promise<Array<string>> {\n    const web3 = await baseGetWeb3();\n    return web3 ? (web3 as any).eth.getAccounts() : null;\n  }\n\n  // FIXME: returns Promise?\n  async function mySend(contract: string, method: any, args: Array<any>, sendArgs: any, handler: any): Promise<any> {\n    sendArgs = sendArgs || {}\n    const account = (await getAccounts())[0];\n    return method.bind(contract)(...args).estimateGas({gas: '1000000', from: account, ...sendArgs})\n        .then((estimatedGas: string) => {\n            const gas = String(Math.floor(Number(estimatedGas) * 1.15) + 24000);\n            if(handler !== null)\n                return method.bind(contract)(...args).send({gas, from: account, ...sendArgs}, handler);\n            else\n                return method.bind(contract)(...args).send({gas, from: account, ...sendArgs});\n        });\n  }\n  \n  function ETHToERC1155() {\n    const [lockerContract, setLockerContract] = useState('');\n    const [lockedErc1155Amount, setLockedErc1155Amount] = useState('');\n    const [amount, setAmount] = useState('');\n  \n    let myEvents = [null, null];\n    \n    // TODO: Connect two contracts separately.\n    async function connectEvents(lockerContract: string) {\n      console.log('connectEvents')\n      // for (let ev of myEvents) {\n      //   if(ev) (ev as any).unsubscribe();\n      // }\n      \n      const web3 = await getWeb3();\n      if(web3 === null) return;\n      web3.eth.clearSubscriptions();\n      const account = (await getAccounts())[0];\n      if(!account) return;\n      if (isAddressValid(lockerContract)) {\n        const abi = (await getABIs()).ERC1155LockedETH;\n        const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n        myEvents[0] = erc1155.events.TransferSingle({filter: {_to: account}}, async () => {\n          return await loadLockedIn1155();\n        });\n        myEvents[1] = erc1155.events.TransferBatch({filter: {_to: account}}, async () => {\n          return await loadLockedIn1155();\n        });\n      }\n    }\n  \n    if ((window as any).ethereum) {\n      (window as any).ethereum.on('chainChanged', async (chainId: any) => { // TODO: more specific type\n        // TODO: hacky code\n        // TODO: duplicate code\n        await getAddresses().then((addresses) => {\n          if (addresses) {\n            setLockerContract(addresses.ERC1155LockedETH.address);\n          }\n        });\n        await loadLockedIn1155();\n      });\n  \n      (window as any).ethereum.on('accountsChanged', async function (accounts: Array<string>) {\n        setConnectedToAccount(accounts.length !== 0);\n      });\n    }\n\n    useEffect(() => {\n      async function connect() {\n        await connectEvents(lockerContract);\n      }\n\n      connect();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lockerContract]);\n\n    async function loadLockedIn1155() {\n      // TODO: Don't call functions repeatedly.\n      if (isAddressValid(lockerContract)) {\n        const abi = (await getABIs()).ERC1155LockedETH;\n        if (abi) {\n          const web3 = await getWeb3();\n          if (web3 !== null) {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n    \n            erc1155.methods.balanceOf(account, 0).call()\n              .then((balance: string) => {\n                setLockedErc1155Amount(balance);\n              })\n              .catch((e: any) => {\n                setLockedErc1155Amount(\"\");\n              });\n          } else {\n            setLockedErc1155Amount(\"\");\n          }\n        }\n      } else {\n        setLockedErc1155Amount(\"\");\n      }\n    }\n  \n    useEffect(() => {\n      async function fetchData() {\n        await loadLockedIn1155();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lockerContract]);\n\n    // Without this does not load on Chromium, when coming by an external link:\n    getAddresses().then((addresses) => {\n      if (addresses) {\n        setLockerContract(addresses.ERC1155LockedETH.address);\n      }\n    });\n  \n    async function lockETHinErc1155() {\n      if (isAddressValid(lockerContract)) {\n        const abi = (await getABIs()).ERC1155LockedETH;\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            await mySend(erc1155, erc1155.methods.borrowETH, [account, []], {from: account, value: toWei(amount)}, null)\n              .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    async function unlockETHfromErc1155() {\n      if (isAddressValid(lockerContract)) {\n        const abi = (await getABIs()).ERC1155LockedETH;\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            await mySend(erc1155, erc1155.methods.returnToETH, [toWei(amount), account], {from: account}, null)\n              // .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    return (\n      <div>\n        <p>ERC-1155 token ID: 0</p>\n        <p>ERC-1155 locker contract address:\n          {' '}\n          <Address value={lockerContract} onChange={async (e: Event) => await setLockerContract((e.target as HTMLInputElement).value as string)}/>\n          <br/>\n          <span style={{color: 'red'}}>(Be sure to use only trustworthy locker contracts!)</span></p>\n        <p>Amount locked in ERC-1155:\n          {' '}\n          <span>{lockedErc1155Amount === '' ? '–' : fromWei(lockedErc1155Amount)}</span></p>\n        <p>\n          Amount:\n          {' '}\n          <Amount value={amount} onChange={(e: Event) => setAmount((e.target as HTMLInputElement).value as string)}/>\n          {' '}\n          <input type=\"button\" value=\"Lock ETH in ERC-1155\" onClick={lockETHinErc1155}\n                 disabled={!isRealNumber(amount)}/>\n          {' '}\n          <input type=\"button\" value=\"Unlock ERC-1155 to ETH\" onClick={unlockETHfromErc1155}\n                 disabled={!isRealNumber(amount)}/>\n        </p>\n        <p>Locking/unlocking is 1/1 swap.</p>\n      </div>\n    );\n  }\n\n  function Erc20ToERC1155() {\n    const [erc20Contract, setErc20Contract] = useState('');\n    const [erc1155Token, setErc1155Token] = useState('');\n    const [lockerContract, setLockerContract] = useState('');\n    const [wrapperContract, setWrapperContract] = useState('');\n    const [erc20Amount, setErc20Amount] = useState('');\n    const [erc20Symbol, setErc20Symbol] = useState('');\n    const [lockedErc1155Amount, setLockedErc1155Amount] = useState('');\n    const [amount, setAmount] = useState('');\n    const [erc1155WrapperApproved, setErc1155WrapperApproved] = useState(false);\n  \n    let myEvents = [null, null, null, null, null];\n    \n    // TODO: Connect two contracts separately.\n    async function connectEvents(erc20Contract: string, lockerContract: string, erc1155Token: string) {\n      console.log('connectEvents')\n      // for (let ev of myEvents) {\n      //   if(ev) (ev as any).unsubscribe();\n      // }\n      \n      if(!isAddressValid(erc20Contract)) {\n        return;\n      }\n      const web3 = await getWeb3();\n      if(web3 === null) return;\n      web3.eth.clearSubscriptions();\n      const account = (await getAccounts())[0];\n      if(!account) return;\n      if (isAddressValid(lockerContract)) {\n        const abi = (await getABIs()).ERC1155LockedERC20;\n        const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n        myEvents[0] = erc1155.events.TransferSingle({filter: {_to: account}}, async () => {\n          return await loadLockedIn1155();\n        });\n        myEvents[1] = erc1155.events.TransferBatch({filter: {_to: account}}, async () => {\n          return await loadLockedIn1155();\n        });\n      }\n      if (isAddressValid(erc20Contract)) {\n        const abi = await fetchOnceJson('erc20-abi.json');\n        const erc20 = new (web3 as any).eth.Contract(abi, erc20Contract);\n        // TODO: Don't reload token symbol.\n        myEvents[2] = erc20.events.Transfer({filter: {to: account}}, async () => {\n          return await loadErc20();\n        });\n        myEvents[3] = erc20.events.Transfer({filter: {from: account}}, async () => {\n          return await loadErc20();\n        });\n  \n        // TODO: Don't reload token symbol.\n        myEvents[4] = erc20.events.Approval({filter: {owner: account, spender: wrapperContract}}, async () => {\n          return await checkErc1155WrapperApproved();\n        });\n      }\n    }\n  \n    if ((window as any).ethereum) {\n      (window as any).ethereum.on('chainChanged', async (chainId: any) => { // TODO: more specific type\n        // TODO: hacky code\n        // TODO: duplicate code\n        await getAddresses().then((addresses) => {\n          if (addresses) {\n            setLockerContract(addresses.ERC1155LockedERC20.address);\n            setWrapperContract(addresses.ERC1155OverERC20.address);\n          }\n        });\n        await loadLockedIn1155();\n        await loadErc20();\n      });\n  \n      (window as any).ethereum.on('accountsChanged', async function (accounts: Array<string>) {\n        if (isAddressValid(erc20Contract)) {\n          setConnectedToAccount(accounts.length !== 0);\n          await loadErc20();\n        }\n      });\n    }\n\n    useEffect(() => {\n      async function fetchData() {\n        await checkErc1155WrapperApproved();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [wrapperContract]);\n\n    useEffect(() => {\n      async function fetchData() {\n        let tokenId = \"\";\n        if(isAddressValid(erc20Contract)) {\n          tokenId = toBN(erc20Contract).toString();\n          setErc1155Token(tokenId);\n        } else {\n          setErc1155Token(\"\");\n        }\n        await loadErc20();\n        await checkErc1155WrapperApproved();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [erc20Contract]);\n\n    useEffect(() => {\n      async function fetchData() {\n        if(isWrappedTokenValid(erc1155Token)) {\n          const hex = Web3.utils.toHex(erc1155Token);\n          const addr = hex.replace(/^0x/, '0x' + '0'.repeat(42 - hex.length))\n          const checksumed = Web3.utils.toChecksumAddress(addr);\n          setErc20Contract(checksumed);\n        } else {\n          setErc20Contract(\"\");\n        }\n        await loadLockedIn1155();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [erc1155Token]);\n\n    useEffect(() => {\n      async function connect() {\n        await connectEvents(erc20Contract, lockerContract, erc1155Token);\n      }\n\n      connect();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [erc20Contract, lockerContract, erc1155Token]);\n\n    async function loadErc20() {\n      // TODO: Don't call functions repeatedly.\n      if (isAddressValid(erc20Contract)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          const erc20 = new (web3 as any).eth.Contract(erc20Abi as any, erc20Contract);\n          const account = (await getAccounts())[0];\n          if(!account) {\n            setConnectedToAccount(false);\n            return;\n          }\n        \n          erc20.methods.balanceOf(account).call()\n            .then((balance: string) => {\n              setErc20Amount(balance);\n            })\n            .catch(() => {\n              setErc20Amount(\"\");\n            });\n  \n          erc20.methods.symbol().call()\n            .then((symbol: string) => {\n              setErc20Symbol(symbol);\n            })\n            .catch(() => {\n              setErc20Symbol(\"\");\n            });\n        } else {\n          setErc20Amount(\"\");\n          setErc20Symbol(\"\");\n        }\n      } else {\n        setErc20Amount(\"\");\n        setErc20Symbol(\"\");\n      }\n    }\n  \n    async function loadLockedIn1155() {\n      // TODO: Don't call functions repeatedly.\n      if (isAddressValid(lockerContract) && isWrappedTokenValid(erc1155Token)) {\n        const abi = (await getABIs()).ERC1155LockedERC20;\n        if (abi) {\n          const web3 = await getWeb3();\n          if (web3 !== null) {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n    \n            if (isWrappedTokenValid(erc1155Token)) {\n              erc1155.methods.balanceOf(account, erc1155Token).call()\n                .then((balance: string) => {\n                  setLockedErc1155Amount(balance);\n                })\n                .catch((e: any) => {\n                  setLockedErc1155Amount(\"\");\n                });\n            } else {\n              setLockedErc1155Amount(\"\");\n            }\n          } else {\n            setLockedErc1155Amount(\"\");\n          }\n        }\n      } else {\n        setLockedErc1155Amount(\"\");\n      }\n    }\n\n    async function checkErc1155WrapperApproved() {\n      if (isAddressValid(wrapperContract)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          const account = (await getAccounts())[0];\n          if(!account) {\n            setErc1155WrapperApproved(false);\n            return;\n          }\n          try {\n            const erc20 = new (web3 as any).eth.Contract(erc20Abi as any, erc20Contract);\n            const allowanceStr = await erc20.methods.allowance(account, wrapperContract).call();\n            const allowance = toBN(allowanceStr);\n            const halfBig = toBN(2).pow(toBN(128));\n            setErc1155WrapperApproved(!allowance.lt(halfBig));\n          }\n          catch(_) {\n            setErc1155WrapperApproved(false);\n          }\n        } else {\n          setErc1155WrapperApproved(false);\n        }\n      } else {\n        setErc1155WrapperApproved(false);\n      }\n    }\n  \n    useEffect(() => {\n      async function fetchData() {\n        await loadLockedIn1155();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lockerContract]);\n\n    // Without this does not load on Chromium, when coming by an external link:\n    getAddresses().then((addresses) => {\n      if (addresses) {\n        setLockerContract(addresses.ERC1155LockedERC20.address);\n        setWrapperContract(addresses.ERC1155OverERC20.address);\n      }\n    });\n  \n    async function lockErc20inErc1155() {\n      if (isAddressValid(lockerContract) && isAddressValid(erc20Contract)) {\n        const abi = (await getABIs()).ERC1155LockedERC20;\n        const abi2 = await fetchOnceJson('erc20-abi.json');\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const erc20 = new (web3 as any).eth.Contract(abi2 as any, erc20Contract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            const allowanceStr = await erc20.methods.allowance(account, lockerContract).call();\n            const allowance = toBN(allowanceStr);\n            const halfBig = toBN(2).pow(toBN(128));\n            if(allowance.lt(halfBig)) {\n              const big = toBN(2).pow(toBN(256)).sub(toBN(1));\n              await mySend(erc20, erc20.methods.approve, [lockerContract, big.toString()], {from: account}, null)\n                // .catch(e => alert(e.message));\n            }\n            await mySend(erc1155, erc1155.methods.borrowERC20, [erc20Contract, toWei(amount), account, account, []], {from: account}, null)\n              .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    async function approveErc1155Wrapper() {\n      if (isAddressValid(erc20Contract)) {\n        const abi = await fetchOnceJson('erc20-abi.json');\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc20 = new (web3 as any).eth.Contract(abi as any, erc20Contract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            const big = toBN(2).pow(toBN(256)).sub(toBN(1));\n            await mySend(erc20, erc20.methods.approve, [wrapperContract, big], {from: account}, null)\n              // .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n            return;\n          }\n        }\n      }\n    }\n  \n    async function unlockErc20fromErc1155() {\n      if (isAddressValid(lockerContract) && isAddressValid(erc20Contract)) {\n        const abi = (await getABIs()).ERC1155LockedERC20;\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(abi as any, lockerContract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            await mySend(erc1155, erc1155.methods.returnToERC20, [erc20Contract, toWei(amount), account], {from: account}, null)\n              // .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    return (\n      <div>\n        <p>ERC-20 token address:\n          {' '}\n          <Address value={erc20Contract} onChange={async (e: Event) => await setErc20Contract((e.target as HTMLInputElement).value as string)}/>\n          {' '}\n          <span style={{display: erc1155WrapperApproved ? 'none': 'inline'}}>\n            <button onClick={approveErc1155Wrapper} disabled={!isAddressValid(erc20Contract)}>\n              Approve for ERC-1155\n            </button>\n            &nbsp;\n            <span style={{cursor: 'help'}} title=\"Allow the ERC-1155 wrapper contract to transfer funds for you (only when you explicitly request a transfer).\">ⓘ</span>\n          </span>\n          <small style={{display: erc1155WrapperApproved ? 'inline': 'none'}}>\n            (approved for ERC-1155 wrapper)\n          </small>\n        </p>\n        <p>ERC-1155 <small>(has bug)</small> wrapper contract address:{' '}\n          <code className=\"address\">{wrapperContract}</code></p>\n        <p>ERC-1155 token ID:\n          {' '}\n          <WrappedERC20 value={erc1155Token} onChange={async (e: Event) => await setErc1155Token((e.target as HTMLInputElement).value as string)}/></p>\n        <p>ERC-1155 locker contract address:\n          {' '}\n          <Address value={lockerContract} onChange={async (e: Event) => await setLockerContract((e.target as HTMLInputElement).value as string)}/>\n          <br/>\n          <span style={{color: 'red'}}>(Be sure to use only trustworthy locker contracts!)</span></p>\n        <p>Amount on ERC-20:\n          {' '}\n          <span>{erc20Amount === '' ? '–' : fromWei(erc20Amount)}</span>\n          {' '}\n          <span>{erc20Symbol}</span></p>\n        <p>Amount locked in ERC-1155:\n          {' '}\n          <span>{lockedErc1155Amount === '' ? '–' : fromWei(lockedErc1155Amount)}</span></p>\n        <p>\n          Amount:\n          {' '}\n          <Amount value={amount} onChange={(e: Event) => setAmount((e.target as HTMLInputElement).value as string)}/>\n          {' '}\n          <input type=\"button\" value=\"Lock ERC-20 in ERC-1155\" onClick={lockErc20inErc1155}\n                disabled={!isAddressValid(erc20Contract) || !isRealNumber(amount)}/>\n          {' '}\n          <input type=\"button\" value=\"Unlock ERC-1155 to ERC-20\" onClick={unlockErc20fromErc1155}\n                disabled={!isAddressValid(erc20Contract) || !isRealNumber(amount)}/>\n        </p>\n        <p>Locking/unlocking is 1/1 swap.</p>\n      </div>\n    );\n  }\n\n  function Erc1155ToERC20() {\n    const [erc1155Contract, setErc1155Contract] = useState('');\n    const [erc1155Token2, setErc1155Token2] = useState('');\n    const [erc20WrapperApproved, setErc20WrapperApproved] = useState(false);\n    const [wrapperContract2, setWrapperContract2] = useState('');\n    const [lockerContract2, setLockerContract2] = useState('');\n    const [erc1155Amount, setErc1155Amount] = useState('');\n    const [amount, setAmount] = useState('');\n    const [lockedErc20Amount, setLockedErc20Amount] = useState('');\n\n    async function loadRegistered() {\n      if (isAddressValid(erc1155Contract) && isUint256Valid(erc1155Token2)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          const abi = (await getABIs()).ERC20Registry;\n          const contractAddress = (await getAddresses())[\"ERC20Registry\"].address;\n          const registry = new (web3 as any).eth.Contract(abi, contractAddress);\n\n          const address1 = await registry.methods.getWrapper(erc1155Contract, erc1155Token2).call();\n          setWrapperContract2(/^0x0+$/.test(address1) ? \"\" : address1);\n          const address2 = await registry.methods.getLocker(erc1155Contract, erc1155Token2).call();\n          setLockerContract2(/^0x0+$/.test(address2) ? \"\" : address2);\n        }\n      }\n    }\n\n    useEffect(() => {\n      async function fetchData() {\n        await loadRegistered();\n        await loadErc1155();\n        await connectEvents();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [erc1155Contract, erc1155Token2]);\n\n    useEffect(() => {\n      async function fetchData() {\n        await checkErc20WrapperApproved();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [erc1155Contract, wrapperContract2]);\n\n    useEffect(() => {\n      async function fetchData() {\n        await connectEvents();\n        await loadLockedIn20();\n      }\n\n      fetchData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lockerContract2]);\n\n    async function loadErc1155() {\n      // TODO: Don't call functions repeatedly.\n      if (isAddressValid(erc1155Contract) && isUint256Valid(erc1155Token2)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          const erc1155 = new (web3 as any).eth.Contract(erc1155Abi as any, erc1155Contract);\n          const account = (await getAccounts())[0];\n          if(!account) {\n            setConnectedToAccount(false);\n            return;\n          }\n\n          erc1155.methods.balanceOf(account, erc1155Token2).call()\n            .then((balance: string) => {\n              setErc1155Amount(balance);\n            })\n            .catch(() => {\n              setErc1155Amount(\"\");\n            });\n        } else {\n          setErc1155Amount(\"\");\n        }\n      } else {\n        setErc1155Amount(\"\");\n      }\n    }\n  \n    async function loadLockedIn20() {\n      // TODO: Don't call functions repeatedly.\n      if (isAddressValid(lockerContract2)) {\n        const abi = (await getABIs()).ERC20LockedERC1155;\n        if (abi) {\n          const web3 = await getWeb3();\n          if (web3 !== null) {\n            const erc20 = new (web3 as any).eth.Contract(abi as any, lockerContract2);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n\n            erc20.methods.balanceOf(account).call()\n              .then((balance: string) => {\n                setLockedErc20Amount(balance);\n              })\n              .catch((e: any) => {\n                setLockedErc20Amount(\"\");\n              });\n          } else {\n            setLockedErc20Amount(\"\");\n          }\n        }\n      } else {\n        setLockedErc20Amount(\"\");\n      }\n    }\n  \n    async function checkErc20WrapperApproved() {\n      if (isAddressValid(erc1155Contract) && wrapperContract2 !== '') {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          const account = (await getAccounts())[0];\n          if(!account) {\n            setErc20WrapperApproved(false);\n            return;\n          }\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(erc1155Abi as any, erc1155Contract);\n            const approved = await erc1155.methods.isApprovedForAll(account, wrapperContract2).call();\n            setErc20WrapperApproved(approved);\n          }\n          catch(_) {\n            setErc20WrapperApproved(false);\n          }\n        } else {\n          setErc20WrapperApproved(false);\n        }\n      } else {\n        setErc20WrapperApproved(false);\n      }\n    }\n  \n    async function createErc20Wrapper() {\n      const web3 = await getWeb3();\n      const abi = (await getABIs()).ERC20Registry;\n      const account = (await getAccounts())[0];\n      const contractAddress = (await getAddresses())[\"ERC20Registry\"].address;\n      const registry = new (web3 as any).eth.Contract(abi, contractAddress);\n      const tx = await mySend(\n          registry,\n          registry.methods.registerWrapper,\n          [erc1155Contract, erc1155Token2],\n          {from: account},\n          null\n        )\n        .catch(e => alert(e.message))\n        .then(async tx => {\n          /*const receipt =*/ await tx;\n          const address = await registry.methods.getWrapper(erc1155Contract, erc1155Token2).call();\n          setWrapperContract2(address);\n        });\n    }\n\n    async function createErc20Locker() {\n      const web3 = await getWeb3();\n      const abi = (await getABIs()).ERC20Registry;\n      const account = (await getAccounts())[0];\n      const contractAddress = (await getAddresses())[\"ERC20Registry\"].address;\n      const registry = new (web3 as any).eth.Contract(abi, contractAddress);\n      const tx = await mySend(\n          registry,\n          registry.methods.registerLocker,\n          [erc1155Contract, erc1155Token2],\n          {from: account},\n          null\n        )\n        .catch(e => alert(e.message))\n        .then(async tx => {\n          /*const receipt =*/ await tx;\n          const address = await registry.methods.getLocker(erc1155Contract, erc1155Token2).call();\n          setLockerContract2(address);\n        });\n    }\n\n    let myEvents = [null, null, null, null, null];\n    \n    // TODO: Connect two contracts separately.\n    async function connectEvents() {\n      console.log('connectEvents2')\n      // for (let ev of myEvents) {\n      //   if(ev) (ev as any).unsubscribe();\n      // }\n      \n      const web3 = await getWeb3();\n      if(web3 === null) return;\n      web3.eth.clearSubscriptions(); // FIXME: clears also the other page!\n      const account = (await getAccounts())[0];\n      if(!account) return;\n      console.log('lockerContract2', lockerContract2)\n      if (isAddressValid(lockerContract2)) {\n        const abi = (await getABIs()).ERC20LockedERC1155;\n        const erc20 = new (web3 as any).eth.Contract(abi as any, lockerContract2);\n        myEvents[0] = erc20.events.Transfer({filter: {to: account}}, async () => {\n          return await loadLockedIn20();\n        });\n        myEvents[1] = erc20.events.Transfer({filter: {from: account}}, async () => {\n          return await loadLockedIn20();\n        });\n      }\n      try {\n        const erc1155 = new (web3 as any).eth.Contract(erc1155Abi, erc1155Contract);\n        // TODO: Don't reload token symbol.\n        myEvents[2] = erc1155.events.TransferSingle({filter: {_to: account}}, async () => {\n          return await loadErc1155();\n        });\n        myEvents[3] = erc1155.events.TransferSingle({filter: {_from: account}}, async () => {\n          return await loadErc1155();\n        });\n  \n        // TODO: Don't reload token symbol.\n        myEvents[4] = erc1155.events.ApprovalForAll({filter: {account: account, operator: wrapperContract2}}, async () => {\n          return await checkErc20WrapperApproved();\n        });\n      }\n      catch(_) { }\n    }\n\n    async function lockErc1155inErc20() {\n      if (isAddressValid(lockerContract2)) {\n        const abi = (await getABIs()).ERC20LockedERC1155;\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc20 = new (web3 as any).eth.Contract(abi as any, lockerContract2);\n            const erc1155 = new (web3 as any).eth.Contract(erc1155Abi as any, erc1155Contract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            const approved = await erc1155.methods.isApprovedForAll(account, lockerContract2).call();\n            if(!approved) {\n              await mySend(erc1155, erc1155.methods.setApprovalForAll, [lockerContract2, true], {from: account}, null)\n                // .catch(e => alert(e.message));\n            }\n            await mySend(erc20, erc20.methods.borrowERC1155, [toWei(amount), account, account, []], {from: account}, null)\n              .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    async function approveErc20Wrapper() {\n      if (isAddressValid(lockerContract2)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc1155 = new (web3 as any).eth.Contract(erc1155Abi, erc1155Contract);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            await mySend(erc1155, erc1155.methods.setApprovalForAll, [wrapperContract2, true], {from: account}, null)\n              // .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n            return;\n          }\n        }\n      }\n    }\n  \n    async function unlockErc1155fromErc20() {\n      const abi = (await getABIs()).ERC20LockedERC1155;\n      if (isAddressValid(lockerContract2)) {\n        const web3 = await getWeb3();\n        if (web3 !== null) {\n          try {\n            const erc20 = new (web3 as any).eth.Contract(abi as any, lockerContract2);\n            const account = (await getAccounts())[0];\n            if(!account) {\n              setConnectedToAccount(false);\n              return;\n            }\n            await mySend(erc20, erc20.methods.returnToERC1155, [toWei(amount), account, []], {from: account}, null)\n              // .catch(e => alert(e.message));\n          }\n          catch(e) {\n            alert(e.message);\n          }\n        }\n      }\n    }\n  \n    return (\n      <div>\n        <p>ERC-1155 contract:\n          {' '}\n          <Address value={erc1155Contract} onChange={async (e: Event) => await setErc1155Contract((e.target as HTMLInputElement).value as string)}/>\n          {' '}\n          <span style={{display: erc20WrapperApproved ? 'none': 'inline'}}>\n            <button onClick={approveErc20Wrapper} disabled={wrapperContract2 === \"\" || erc20WrapperApproved}>\n              Approve for ERC-20\n            </button>\n            &nbsp;\n            <span style={{cursor: 'help'}} title=\"Allow the ERC-20 wrapper contract to transfer funds for you (only when you explicitly request a transfer).\">ⓘ</span>\n          </span>\n          <small style={{display: erc20WrapperApproved ? 'inline': 'none'}}>\n            (approved for ERC-20 wrapper)\n          </small>\n        </p>\n        <p>ERC-1155 token ID:\n          {' '}\n          <Uint256 value={erc1155Token2}\n                   onChange={async (e: Event) => await setErc1155Token2((e.target as HTMLInputElement).value as string)}/>\n        </p>\n        <p>Wrapper contract:\n          {' '}\n          <code className=\"address\">{wrapperContract2}</code>\n          {' '}\n          <button onClick={createErc20Wrapper}\n                  style={{display: wrapperContract2 !== '' ? 'none' : 'inline'}}\n                  disabled={!isAddressValid(erc1155Contract) || !isUint256Valid(erc1155Token2)}>Create</button></p>\n        <p>Locker contract:\n          {' '}\n          <code className=\"address\">{lockerContract2}</code>\n          {' '}\n          <button onClick={createErc20Locker}\n                  style={{display: lockerContract2 !== '' ? 'none' : 'inline'}}\n                  disabled={!isAddressValid(erc1155Contract) || !isUint256Valid(erc1155Token2)}>Create</button></p>\n        <p>Amount on ERC-1155:\n          {' '}\n          <span>{erc1155Amount === '' ? '–' : fromWei(erc1155Amount)}</span></p>\n        <p>Amount locked in ERC-20:\n          {' '}\n          <span>{lockedErc20Amount === '' ? '–' : fromWei(lockedErc20Amount)}</span></p>\n        <p>\n          Amount:\n          {' '}\n          <Amount value={amount} onChange={(e: Event) => setAmount((e.target as HTMLInputElement).value as string)}/>\n          {' '}\n          <input type=\"button\" value=\"Lock ERC-1155 in ERC-20\" onClick={lockErc1155inErc20}\n                 disabled={!isAddressValid(lockerContract2)}/>\n          {' '}\n          <input type=\"button\" value=\"Unlock ERC-1155 in ERC-20\" onClick={unlockErc1155fromErc20}\n                 disabled={!isAddressValid(lockerContract2)}/>\n        </p>\n        <p>Locking/unlocking is 1/1 swap.</p>\n      </div>\n    );\n  }\n\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <ul className=\"header\">\n            <li><NavLink exact to=\"/\">ETH &rarr; ERC1155</NavLink></li>\n            <li><NavLink to=\"/erc20toErc1155\">ERC20 &rarr; ERC1155</NavLink></li>\n            <li><NavLink to=\"/erc1155toErc20\">ERC1155 &rarr; ERC20</NavLink></li>\n          </ul>\n          <p style={{marginTop: 0}}>\n            <small>\n              <a href=\"https://github.com/vporton/wrap-tokens\">Docs and source</a>\n              {' '}|{' '}\n              <a href=\"https://portonvictor.org\">Author</a>\n              {' '}|{' '}\n              <a href=\"https://gitcoin.co/grants/1865/convert-erc-1155-erc-20-need-021224376-eth\">\n                Donate for full deployment on mainnet\n              </a>\n            </small>\n          </p>\n          <p style={{display: connectedToAccount ? 'none' : 'block', fontSize: '50%', color: 'red', fontWeight: 'bold'}}>Please connect to an Ethereum account!</p>\n          <div className=\"content\">\n            <Route exact path=\"/\" component={ETHToERC1155}/>\n            <Route path=\"/erc20toErc1155\" component={Erc20ToERC1155}/>\n            <Route path=\"/erc1155toErc20\" component={Erc1155ToERC20}/>\n          </div>\n        </header>\n      </div>\n    </HashRouter>\n  );\n}\n\nfunction Address({...props}) {\n  return (\n    <span className=\"Address\">\n      <input type=\"text\"\n             maxLength={42}\n             size={50}\n             value={props.value ? props.value : \"\"}\n             onChange={props.onChange}\n             className={isAddressValid(props.value) ? '' : 'error'}/>\n    </span>\n  )\n}\n\nfunction Uint256({...props}) {\n  return (\n    <span className=\"Uint256\">\n      <input type=\"text\"\n             maxLength={78}\n             size={92}\n             value={props.value}\n             onChange={props.onChange}\n             className={isUint256Valid(props.value) ? '' : 'error'}/>\n    </span>\n  )\n}\n\nfunction WrappedERC20({...props}) {\n  return (\n    <span className=\"WrappedERC20\">\n      <input type=\"text\"\n             maxLength={49}\n             size={56}\n             value={props.value}\n             onChange={props.onChange}\n             className={isWrappedTokenValid(props.value) ? '' : 'error'}/>\n    </span>\n  )\n}\n\nfunction Amount({...props}  ) {\n  return (\n    <span className=\"Amount\">\n      <input type=\"text\"\n             value={props.value ? props.value : \"\"}\n             onChange={props.onChange}\n               className={isRealNumber(props.value) ? '' : 'error'}/>\n    </span>\n  )\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\ndocument.title = \"Convert ERC-1155 ↔ ERC-20\";\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}